<!DOCTYPE html>
<html>
  <head>
    <title>Receipt Definitions</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Receipt Definitions as used in the 402-Receipt Proposed standard.">
    <link rel="stylesheet" href="/assets/main.css?12">
    <link rel="shortcut icon" type="image/x-icon" href="/ico/favicon.png">
  </head>
  <body>
    <div id="documentation-page">
  <header>
    <a class="text" href="/introduction.html">
      The Proposed 402-Receipts Standard
    </a>
  </header>
  <div id="columns">
    <nav>
      
      
        <span class="nav_item">
          <a href="/introduction.html"><span>Introduction</span></a>
        </span>
        
        <span class="nav_item">
          <a href="/overview.html"><span>Overview</span></a>
        </span>
        
        <span class="nav_item">
          <a href="/parties.html"><span>Parties</span></a>
        </span>
        
        <span class="nav_item">
          <a href="/http.html"><span>HTTP Components</span></a>
        </span>
        
        <span class="nav_item selected">
          <a href="/receipt_definitions.html"><span>Receipt Definitions</span></a>
        </span>
        
        <span class="nav_item">
          <a href="/receipts.html"><span>Receipts</span></a>
        </span>
        
        <span class="nav_item">
          <a href="/signatures.html"><span>Blind Signatures</span></a>
        </span>
        
        <span class="nav_item">
          <a href="/compression.html"><span>Compression</span></a>
        </span>
        
    </nav>
    <article>
    <p>In the current version, the Receipt Definitions are communicated only in
the <a href="http://402receipts.info/http.html#glossary_accepts_header" title="The `Receipts-Accepts` response header value is a [compressed](/compression.html) [Receipt Definitio...">Receipts-Accepts Header</a>
.</p>

<div class="glossary_item" id="glossary_receipt_definition">
  <div class="glossary_header">Definition</div>
  <h4><a href="http://402receipts.info/receipt_definitions.html#glossary_receipt_definition" title="permalink to this definition">Receipt Definition</a></h4>
  <p>A Receipt Definition is an XML object which tells a Client what receipts would be accepted in order to access the relevant resource.
Note that the root of a Receipt Definition is a <code class="highlighter-rouge">definitions</code> element, which is a list of <code class="highlighter-rouge">definition</code>s.</p>

  
    <div class="glossary_example">Example</div>
    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;definitions</span> <span class="na">xmlns=</span><span class="s">"https://402.TBD"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;definition&gt;</span>
    <span class="nt">&lt;domain&gt;</span>https://www.example.com/<span class="nt">&lt;/domain&gt;</span>
    <span class="nt">&lt;item&gt;</span>/page.html<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;signers&gt;</span>
      <span class="nt">&lt;signer&gt;</span>https://receipts.dmn.network/path<span class="nt">&lt;/signer&gt;</span>
    <span class="nt">&lt;/signers&gt;</span>
    <span class="nt">&lt;ttl&gt;</span>2720000<span class="nt">&lt;/ttl&gt;</span>
    <span class="nt">&lt;costs&gt;</span>
      <span class="nt">&lt;cost&gt;</span>
        <span class="nt">&lt;units&gt;</span>USD<span class="nt">&lt;/units&gt;</span>
        <span class="nt">&lt;amount&gt;</span>0.05<span class="nt">&lt;/amount&gt;</span>
      <span class="nt">&lt;/cost&gt;</span>
    <span class="nt">&lt;/costs&gt;</span>
  <span class="nt">&lt;/definition&gt;</span>
  <span class="nt">&lt;definition&gt;</span>
    <span class="nt">&lt;domain&gt;</span>https://www.example.com/<span class="nt">&lt;/domain&gt;</span>
    <span class="nt">&lt;item&gt;&lt;/item&gt;</span>
    <span class="nt">&lt;signers&gt;</span>
      <span class="nt">&lt;signer&gt;</span>https://receipts.dmn.network/path<span class="nt">&lt;/signer&gt;</span>
    <span class="nt">&lt;/signers&gt;</span>
    <span class="nt">&lt;ttl&gt;</span>2720000<span class="nt">&lt;/ttl&gt;</span>
    <span class="nt">&lt;costs&gt;</span>
      <span class="nt">&lt;cost&gt;</span>
        <span class="nt">&lt;units&gt;</span>USD<span class="nt">&lt;/units&gt;</span>
        <span class="nt">&lt;amount&gt;</span>3.00<span class="nt">&lt;/amount&gt;</span>
      <span class="nt">&lt;/cost&gt;</span>
    <span class="nt">&lt;/costs&gt;</span>
  <span class="nt">&lt;/definition&gt;</span>
<span class="nt">&lt;/definitions&gt;</span>
</code></pre></div></div>

<p>See the documentation for Accepts Headers for another example.</p>

  
</div>

<h2 id="schema">Schema</h2>

<table>
  <caption>
    <div><p>XML Schema for Receipt Definition XML objects.</p>
</div>
    <div>Namespace: <span class="xsd-table-namespace">https://402.TBD</span></div>
    <div>
      <a href="http://402receipts.info/402receipts_definition.xsd" target="_blank" title="Open the raw XSD in a new tab">
        The XSD itself is here.
      </a>
    </div>
  </caption>
  <thead>
    <tr>
      <th class="xsd_tag_header">Tag</th>
      <th class="xsd_description_header">Description</th>
      <th class="xsd_type_header">Children/<em>Type</em></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th colspan="3">Root elements:</th>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">definitions</code></td>
      <td><p>The root element of a Receipt Definition xml fragment.</p>
</td>
      <td>see below</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <th colspan="3">Element types:</th>
    </tr>
    <tr id="xsd_row_definitions">
      <td><code class="highlighter-rouge">definitions</code></td>
      <td><p>A list of <code class="highlighter-rouge">definition</code>s.</p>
</td>
      <td>
        
          List of <code class="highlighter-rouge">definition</code>
        
      </td>
    </tr><tr id="xsd_row_definition">
      <td><code class="highlighter-rouge">definition</code></td>
      <td><p>To access the resource, a receipt matching one of these descriptions is needed. A <code class="highlighter-rouge">definition</code> tag will either contain a single <code class="highlighter-rouge">none</code> tag, or all the other child tags.</p>
</td>
      <td>
        
          
            <ul class="xsd_child_list">
              <li><code class="highlighter-rouge">none</code></li>
            </ul>
            <strong class="xsd_child_list">OR</strong>
          
            <ul class="xsd_child_list">
              <li><code class="highlighter-rouge">domain</code></li>
            
              <li><code class="highlighter-rouge">item</code></li>
            
              <li><code class="highlighter-rouge">signers</code></li>
            
              <li><code class="highlighter-rouge">ttl</code></li>
            
              <li><code class="highlighter-rouge">fresh</code></li>
            
              <li><code class="highlighter-rouge">costs</code></li>
            </ul>
            
          
        
      </td>
    </tr><tr id="xsd_row_none">
      <td><code class="highlighter-rouge">none</code></td>
      <td><p>A <code class="highlighter-rouge">&lt;definition&gt;&lt;none&gt;&lt;/none&gt;&lt;/definition&gt;</code> element indicates that while any of the other defined receipts would be <em>accepted</em>, no receipt is <em>required</em>. <code class="highlighter-rouge">none</code> has no children or contents.</p>
</td>
      <td>
        
          <em>string</em>
          <ul class="xsd_restriction_list">
            <li>length: 0</li>
          </ul>
        
      </td>
    </tr><tr id="xsd_row_domain">
      <td><code class="highlighter-rouge">domain</code></td>
      <td><p>For an HTTPS resource, this <em>must</em> be the full domain name of the resource’s address.</p>
</td>
      <td>
        
          <em>string</em>
          <ul class="xsd_restriction_list"></ul>
        
      </td>
    </tr><tr id="xsd_row_item">
      <td><code class="highlighter-rouge">item</code></td>
      <td><p>This will typically be the path of the HTTP resource, but it could be anything. An <em>empty</em> <code class="highlighter-rouge">item</code> tag indicates that any list of receipts matching the rest of the definition and totaling to the cost will suffice.</p>
</td>
      <td>
        
          <em>string</em>
          <ul class="xsd_restriction_list"></ul>
        
      </td>
    </tr><tr id="xsd_row_signers">
      <td><code class="highlighter-rouge">signers</code></td>
      <td><p>A list of <code class="highlighter-rouge">signer</code>s (Notaries) from which receipts would be accepted.</p>
</td>
      <td>
        
          List of <code class="highlighter-rouge">signer</code>
        
      </td>
    </tr><tr id="xsd_row_signer">
      <td><code class="highlighter-rouge">signer</code></td>
      <td><p>The absolute canonical HTTPS url identifying a Notary. Any one of the listed Notaries is sufficient.</p>
</td>
      <td>
        
          <em>anyURI</em>
          <ul class="xsd_restriction_list"></ul>
        
      </td>
    </tr><tr id="xsd_row_ttl">
      <td><code class="highlighter-rouge">ttl</code></td>
      <td><p>An integer representing the maximum age in seconds of a Signed Receipt that will be accepted. Two independent conventions are recommended as “normal”: The <code class="highlighter-rouge">ttl</code> should be 2720000, comfortably covering a month. The <code class="highlighter-rouge">ttl</code> should be the same for all items in a given domain.</p>
</td>
      <td>
        
          <em>unsignedInt</em>
          <ul class="xsd_restriction_list"></ul>
        
      </td>
    </tr><tr id="xsd_row_costs">
      <td><code class="highlighter-rouge">costs</code></td>
      <td><p>A list of <code class="highlighter-rouge">cost</code> elements. If multiple costs are listed in a single definition, they should probably represent similar monetary values; <code class="highlighter-rouge">costs</code> is a list to accommodate multiple currencies.</p>
</td>
      <td>
        
          List of <code class="highlighter-rouge">cost</code>
        
      </td>
    </tr><tr id="xsd_row_cost">
      <td><code class="highlighter-rouge">cost</code></td>
      <td><p>Usually an expression of monetary value. Notaries may use the <code class="highlighter-rouge">plan</code> option to represent receipts for which money is not a good model.</p>
</td>
      <td>
        
          
            <ul class="xsd_child_list">
              <li><code class="highlighter-rouge">units</code></li>
            
              <li><code class="highlighter-rouge">amount</code></li>
            </ul>
            <strong class="xsd_child_list">OR</strong>
          
            <ul class="xsd_child_list">
              <li><code class="highlighter-rouge">plan</code></li>
            </ul>
            
          
        
      </td>
    </tr><tr id="xsd_row_units">
      <td><code class="highlighter-rouge">units</code></td>
      <td><p>A currency code. <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO4217</a> codes are recommended.</p>
</td>
      <td>
        
          <em>string</em>
          <ul class="xsd_restriction_list"></ul>
        
      </td>
    </tr><tr id="xsd_row_amount">
      <td><code class="highlighter-rouge">amount</code></td>
      <td><p>A decimal number amount of that currency’s major units. For example, six US cents would be <code class="highlighter-rouge">0.06</code>, not <code class="highlighter-rouge">6</code>.</p>
</td>
      <td>
        
          <em>decimal</em>
          <ul class="xsd_restriction_list"></ul>
        
      </td>
    </tr><tr id="xsd_row_plan">
      <td><code class="highlighter-rouge">plan</code></td>
      <td><p>An identifier which is assumed to mean something to the various parties involved.</p>
</td>
      <td>
        
          <em>string</em>
          <ul class="xsd_restriction_list"></ul>
        
      </td>
    </tr>
  </tbody>
</table>


    </article>
  </div>
</div>

  </body>
</html>

